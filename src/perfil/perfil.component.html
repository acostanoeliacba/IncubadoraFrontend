<div *ngIf="cargando">Cargando...</div>

<div *ngIf="!cargando">
  <h2>Mi Perfil ({{ tipoUsuario }})</h2>

  <!-- Imagen de perfil (comentada) -->
  <!--
  <div>
    <label>Foto de perfil:</label>
    <input type="file" (change)="onFileSelected($event)">
  </div>
  -->

  <form [formGroup]="perfilForm" *ngIf="perfilForm">

    <div>
      <label>Nombre:</label>
      <input type="text" formControlName="nombre" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>Apellido:</label>
      <input type="text" formControlName="apellido" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>Fecha de nacimiento:</label>
      <input type="date" formControlName="fecha_nacimiento" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>Dirección:</label>
      <input type="text" formControlName="direccion" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>Teléfono:</label>
      <input type="text" formControlName="telefono" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>Email:</label>
      <input type="email" formControlName="email" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>DNI:</label>
      <input type="text" formControlName="dni" [readonly]="!modoEdicion">
    </div>

    <div>
      <label>Especialidad:</label>
      <input type="text" formControlName="especialidad" [readonly]="!modoEdicion">
    </div>

    <div *ngIf="modoEdicion">
      <button type="button" (click)="guardarCambios()">Guardar</button>
      <button type="button" (click)="cancelarEdicion()">Cancelar</button>
    </div>

    <div *ngIf="!modoEdicion">
      <button type="button" (click)="activarEdicion()">Editar Perfil</button>
    </div>

  </form>
</div>
